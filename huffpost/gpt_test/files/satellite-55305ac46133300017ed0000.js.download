/*! Titan (Huffington Post - v2.1.1) - Begin */
!function(a,b){function c(a){return"[object Object]"===Object.prototype.toString.call(a)}function d(a){return"[object Array]"===Object.prototype.toString.call(a)}function e(a){return"string"==typeof a}function f(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function g(a){var b=a[0];return d(b)?b:Array.prototype.slice.call(a)}function h(a){for(var b,c=[];a.length;)b=a.shift(),d(b)?c=c.concat(b):c.push(b);return c}function i(a){return(typeof a).match(/number|boolean/)?a.toString():a}function j(a){var b=a.match(/(?:\d+x\d+_?|int)+/i),c=a.match(/pos-?(\d+)/i),d=[];return C(),d.push(jb.adSite,lb.ctype,lb.cat,lb.cat1,c?c[1]:null,b?b[0]:null,ib.sysEnv),d.join("|")}function k(a){var b=0;if(0===a.length)return b;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d,b&=b}return b}function l(a){Ib&&"true"==Ib.titanLog&&console.log("TITAN: "+a),n(a)}function m(a){Ib&&"true"==Ib.titanLog&&console.error("TITAN: "+a),n("e:"+a)}function n(a){Kb.push(a),z()}function o(){titan.spa=bb,titan.showAds=F,titan.refreshAds=O,titan.clearAds=ab,titan.pageActive=v,titan.adReturnedEvent=w,titan.updateValues=C,Db&&(titan.extensionCallback=B),p(),titan.rebuild=function(){p()},titan.version="v2.1.1"}function p(){Ib&&"true"==Ib.titanRegistry&&(titan.getReturnedAds=P),Ib&&"true"==Ib.titanDebug&&(titan.adSlotRegistry=Mb,titan.displayedSlots=Nb,titan.logHolder=Kb),titan.toolsRebuild&&titan.toolsRebuild()}function q(){var a,b,c=/adcall[^=]{0,3}=[^&]*/gi,e=Jb?Jb.adtester:null,f=Eb.search.match(c)||(e?e.match(c):null);if(f){for(b=f.length-1;b>=0;b--)a=f[b].split("="),kb[a[0]]=a[1].split("_");jb.adTester=kb}ob=d(kb.adcall)&&d(kb.adcallkw)}function r(a){var b,c=kb.adcallsz,d=kb.adcallpos,e=!0;if(ob||(e=!1),e&&c)for(e=!1,b=c.length-1;b>=0;b--)a.match(c[b])&&(e=!0);if(e&&d&&!a.match(/int/))for(e=!1,b=d.length-1;b>=0;b--)a.match(new RegExp("pos-?"+d[b]))&&(e=!0);return e}function s(a){var c,d,e,f=b.cookie.match(new RegExp(a+"=([^;]*)")),g=0;if(f){for(c=f[1].split("%3B");g<c.length;g++)d=c[g].replace(/%20/,"-").split("%3D"),e=d.length>1?d[1]:d[0],lb["aam_did"==a?"u":d.length>1?d[0]:a]=e.match(/%2C/)?e.split("%2C"):e;jb.adKeyValues=lb}}function t(a){Ab||L();var b=a.slot.getSlotId().getDomId();Ob[b]={isEmpty:a.isEmpty,lineItem:a.lineItemId,creative:a.creativeId,size:a.size},R([b],a.isEmpty),l(a.isEmpty?"slotRendered but no ad to return - "+b:"slotRendered - "+b),Pb[b]&&Pb[b]({adId:b,adReturned:!a.isEmpty,size:a.size}),z()}function u(){a.addEventListener&&a.addEventListener("message",function(a){"ffxhandshake"===a.data&&(l("Handshake received, posting response"),a.source.postMessage("ffxconfirmed","*"))})}function v(){pb?O():(Bb=!0,F())}function w(a,b){(e(a)||"function"==typeof b)&&(Pb[a]=b,Ob[a]&&b({adId:a,adReturned:!Ob[a].isEmpty,size:Ob[a].size}))}function x(){vb=!0,y("scroll",H),y("resize",H)}function y(b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)}function z(){titan.consoleState&&"adDetails"==titan.consoleState.name&&titan.getAdDetails(),titan.consoleState&&"log"==titan.consoleState.name&&titan.displayLogs(),titan.consoleState&&"uniqueRef"==titan.consoleState.name&&titan.showUniqueRef()}function A(){Db=jb.extensionEnabled,Db&&(Cb||l("Pausing for extensions"),rb=!1,J(),setTimeout(function(){B(!0)},3e3))}function B(a){Cb||pb?pb&&Db&&l("Extension Callback Time Exceded"):(l("Extension Callback "+(a?"Timeout":"Run")),F()),Db=!1}function C(){gb=a.digitalData||{},hb=gb.page||{},ib=hb.pageInfo||{},jb=gb.titan||{},kb=jb.adTester||{},lb=jb.adKeyValues||{},mb=jb.adSite,nb=jb.adZone,wb=jb.spa||X().length<1,gb.titan=jb,a.digitalData=gb,s("sav"),s("csub"),s("aam_did"),q()}function D(){var a=!0,c=mb&&mb.match(/smh|age/i)&&"article"==lb.ctype&&b.cookie.match(/tsub=[^;]*/i);f(gb)&&(a=!1),f(jb)&&(a=!1),mb||(a=!1),nb||(a=!1),a||m("Minimum dataLayer requirements not met"),(c||jb.delay)&&(a=!1,Cb=!0,l(c?"Pausing for subscriptions":"Pausing for pageActive or showAds call"),J()),rb=a}function E(){return a.googletag=a.googletag||{},googletag.cmd=googletag.cmd||[],a.titan=a.titan||{},titan.cmd=titan.cmd||[],titan.requestAd=titan.requestAd||[],titan.requestConditionalAd=titan.requestConditionalAd||[],titan.requestLazyAd=titan.requestLazyAd||[],C(),titan.initialised?void m("Attempt to load titan faild as titan has already initialised"):(titan.initialised=!0,db(),u(),D(),A(),Hb.src=("https:"==Fb?Fb:"http:")+"//www.googletagservices.com/tag/js/gpt.js",Gb.parentNode.insertBefore(Hb,Gb),o(),void(rb&&F()))}function F(){pb||(pb=!0,l("Titan Activation"),googletag.cmd.push(function(){C();var a=gb.user||{},b=a.profile||{},c=b.fid||lb.u||b.vendorID;wb?(l("In SPA mode"),googletag.pubads().disableInitialLoad(),Z(),titan.cmd.push(L)):Y(),googletag.pubads().setCentering(!0),googletag.pubads().enableSingleRequest(),googletag.pubads().enableAsyncRendering(),googletag.pubads().addEventListener("slotRenderEnded",t),c&&googletag.pubads().setPublisherProvidedId(c),googletag.enableServices(),l("Google Service Enabled"),J(),K()}))}function G(c){var d=b.documentElement,e=a.innerHeight||d.clientHeight,f=a.pageYOffset||d.scrollTop,g=b.getElementById(c),h=g&&g.parentNode.className.match(/adWrapper/i)&&g.parentNode,i=h&&h.offsetTop,j=!1;return i?f+e>=i&&i>=f&&(j=!0):(m("Cannot determine ad position ("+c+")"),j=!0),j}function H(){for(var a in Qb)Qb.hasOwnProperty(a)&&Qb[a]&&G(a)&&(l("Lazy Load Ad Viewable - "+a),Qb[a]=!1,titan.requestConditionalAd.push(a))}function I(a,b){var c=[].concat.apply(h(a),g(b));return c}function J(){qb||(qb=!0,l("Command Enabled"),titan.cmd.push=function(){for(var a=I(titan.cmd,arguments);a.length;)googletag.cmd.push(a.shift())},titan.cmd.push())}function K(){titan.requestAd.push=function(){for(var a,b=I(titan.requestAd,arguments);b.length;)a=b.shift(),e(a)&&!Nb[a]&&(l("RequestAd - "+a),Nb[a]=!0,googletag.display(a))},titan.requestAd.push()}function L(){Ab||(Ab=!0,l("Setting up Conditional Ad Requests"),titan.requestConditionalAd.push=function(){var a,b,c=I(titan.requestConditionalAd,arguments),d=c.slice(),e=[];for(fb();c.length;)a=_(c.shift()),b=a.getSlotId().getDomId(),l("RequestConditionalAd - "+b),a&&(a.setTargeting("condAd","true"),Qb.hasOwnProperty(b)&&a.setTargeting("lazyAd","true"),e.push(a));!wb&&e.length&&cb(e),titan.requestAd.push(d),wb&&e.length&&cb(e)},titan.requestConditionalAd.push(),M())}function M(){l("Setting up Lazy Load Ad Requests"),titan.requestLazyAd.push=function(){for(var a,b=I(titan.requestLazyAd,arguments);b.length;)l("Request Lazy Load - "+(a=b.shift())),Qb[a]=!0,vb||x();H()},titan.requestLazyAd.push()}function N(){for(var a,c,d="div[id^=adops],#theBgDiv,#gutterDiv",e=b.querySelectorAll("style[id^=adops]"),f=b.querySelectorAll("div[class*=adops]"),g=b.body;b.querySelector(d);)a=b.querySelector(d),a.innerHTML="",a.parentNode.removeChild(a);for(c=e.length-1;c>=0;c--)a=e[c],a.parentNode.removeChild(a);for(c=f.length-1;c>=0;c--)a=f[c],a.className=a.className.replace(/\s?(adops-[^\s]*)/g,"");g.className=g.className.replace(/\s?(hasGutter-full|hasGutter-hide|adops-[^\s]*)/g,"")}function O(){var a=W(V(arguments));a&&(N(),fb(),cb(a))}function P(){return Ob}function Q(a){var b;if(a.length)for(b=a.length-1;b>=0;b--)delete Ob[a[b]];else for(b in Ob)delete Ob[b]}function R(a,c){for(var d,e,f=0;f<a.length;f++)adDiv=b.getElementById(a[f]),d=adDiv&&adDiv.parentNode,d&&d.className.match(/adwrapper/i)&&(e=d.getElementsByTagName("small")[0],S(d,c)),e&&(e.style.display=c?"none":"")}function S(a,b){var c=/\sad(?=\s|$)/g,d=a.className;b?a.className=d.replace(c,""):d.match(c)||(a.className+=" ad")}function T(a){return a.match(/[^-]*-((\d+x\d+_?)*-pos-?\d|int)/i)}function U(a){for(var b,c=a.toLowerCase().match(/\d+x\d+/g),d=[];c.length;)b=c.shift().split("x"),d.push([Number(b[0]),Number(b[1])]);return d}function V(a){var b,c=g(a);if(!c.length)for(b in Mb)Mb.hasOwnProperty(b)&&c.push(b);return c}function W(){for(var a,b,c=g(arguments),d=0,e=[];d<c.length;d++)a=c[d],b=a.getName?a:Mb[a],b&&e.push(b);return e.length?e:null}function X(){var a=jb.adSlots||[],b=jb.adSlotsAdditional||[],c=ob?a.concat(b):a.slice(),d=[],e=[],f=c.length-1;for(c.sort();f>=0;f--)c[f].match(/300x250.*-pos-?1/i)?d.unshift(c.splice(f,1)[0]):c[f].match(/728x90.*-pos-?1/i)?d.push(c.splice(f,1)[0]):c[f].match(/pos-?1/i)||e.push(c.splice(f,1)[0]);return d.concat(c,e)}function Y(){C();var a,b,c=X(),d=0,e=jb.supInt,f={},g=[];for(e||c.push("adspot-interstitial");d<c.length;d++)a=c[d],T(a)&&!f[a]&&(f[a]=!0,b=_(a),b&&g.push(b));return Z(),g}function Z(){var a,b={},c=jb.adExclusions,f=0;for(a in lb)lb.hasOwnProperty(a)&&(b[a]=lb[a]);for(ib.pageID&&(b.pageID=ib.pageID),ib.sysEnv&&(b.sysEnv=ib.sysEnv),ib.layout&&(b.layout=ib.layout),ib.generator&&(b.generator=ib.generator);Lb.length;)googletag.pubads().clearTargeting(Lb.shift());if($(b),fb(),googletag.pubads().clearCategoryExclusions(),c&&d(c))for(f=c.length-1;f>=0;f--)googletag.pubads().setCategoryExclusion(c[f]);else c&&e(c)&&googletag.pubads().setCategoryExclusion(c)}function $(a){if(c(a))for(var b in a)a.hasOwnProperty(b)&&void 0!==a[b]&&(b.match(/br(v|m)s/)||Lb.push(b),googletag.pubads().setTargeting(b,i(a[b])))}function _(a){var b,c,d=r(a),e="/6411/"+(d?"onl.adtester":mb+"/"+nb),f=a.match(/int/),g={},h=a.match(/pos-?(\d+)/i),l=navigator.userAgent.match(/MSIE\s[5-9]\./i);if(Mb[a])return Mb[a];f?Mb[a]=googletag.defineOutOfPageSlot(e,a):(Mb[a]=googletag.defineSlot(e,U(a),a),g.pos=h?h[1]:"0"),c=j(a),l||(g.ur=c),g.urh=k(c),Mb[a].addService(googletag.pubads()).setCollapseEmptyDiv(!0,!0),d&&(g.adcallkw=kb.adcallkw);for(b in g)g.hasOwnProperty(b)&&Mb[a].setTargeting(b,i(g[b]));return yb&&titan.requestAd.push(a),Mb[a]}function ab(){var a=V(arguments),b=W(a);b&&(Q(a),googletag.pubads().clear(b),R(a,!0),l("Clear Adslots - "+(a.length?a.join(", "):"All")),N(),z())}function bb(){l("Running Spa"),yb=!0,xb&&ab(zb),xb=!0,zb=Y(),yb=!1,cb(zb)}function cb(a){googletag.pubads().refresh(a)}function db(){var a;(sb="hidden")in b?a="visibilitychange":(sb="mozHidden")in b?a="mozvisibilitychange":(sb="webkitHidden")in b?a="webkitvisibilitychange":(sb="msHidden")in b&&(a="msvisibilitychange"),a&&b.addEventListener(a,eb),tb=sb in b,eb()}function eb(){ub=b[sb]?!1:!0}function fb(){$({brms:tb,brvs:ub})}var gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb=a.location,Fb=Eb.protocol,Gb=b.getElementsByTagName("script")[0],Hb=b.createElement("script"),Ib=a.localStorage,Jb=a.sessionStorage,Kb=[],Lb=[],Mb={},Nb={},Ob={},Pb={},Qb={};E()}(window,document);
/*! Titan (Huffington Post - v2.1.1) - End */
