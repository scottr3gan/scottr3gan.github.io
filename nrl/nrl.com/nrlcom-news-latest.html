<html>
<head>
<meta name="description" content="NRL sample ad tags">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--- Start: CMS targeting variables --->
<script type="text/javascript">
	window.site = "NRL.com"
	window.sect = "news/latest" // section/subsection/sub-subsection
	window.pageID = "12345678"  // unique ID for page
	window.ptype = "index" // pagetype: homepage, index, article, gallery, video
</script>
<!--- End: CMS targeting variables --->
<!--- Start: DFP GPT header script --->
<script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></script>
<script>
	var googletag = googletag || {};
	googletag.cmd = googletag.cmd || [];
</script>
<script type="text/javascript">
googletag.cmd.push(function () {
	function getQueryVariable(variable) // Ad Tester (add "?adtest=testvalue" to url, inserts KV for targeting)
	{
       var query = window.location.search.substring(1);
       var vars = query.split("&");
       for (var i=0;i<vars.length;i++) {
               var pair = vars[i].split("=");
               if(pair[0] == variable){return pair[1];}
       }
       return(false);
	}
	var kvAdTest =  getQueryVariable("adtest");
	var adNet = "78756360"
	var adSite = window.site
	var adSect = window.sect
	var kvPageID = window.pageID
	var kvPType = window.ptype
	var adUnitPath = adNet + '/' + adSite + '/' + adSect 
	var kvArray = adSect.split( '/' );
		var kvSec1 = kvArray[0];
		var kvSec2 = kvArray[1];
		var kvSec3 = kvArray[2];
		var kvSec4 = kvArray[3];
	
	var slot0 = googletag.defineOutOfPageSlot(adUnitPath, 'dfp-ad-oop')
		.addService(googletag.pubads()).setTargeting('pos', '0')		
	
	var mapslot1 = googletag.sizeMapping().addSize([0, 0], [320, 50]).addSize([768, 0], [728, 90]).build();	
	var slot1 = googletag.defineSlot(adUnitPath, [728, 90],'dfp-ad-slot-1').defineSizeMapping(mapslot1)
		.addService(googletag.pubads()).setTargeting('pos', '1')

	var mapslot2 = googletag.sizeMapping().addSize([0, 0], []).addSize([768, 0], [[300, 600],[300, 250]]).build();	
	var slot2 = googletag.defineSlot(adUnitPath, [300, 250],'dfp-ad-slot-2').defineSizeMapping(mapslot2)
		.addService(googletag.pubads()).setTargeting('pos', '1')

	var slot3 = googletag.defineSlot(adUnitPath, [300, 250],'dfp-ad-slot-3')
		.addService(googletag.pubads()).setTargeting('pos', '2')

	var mapslot4 = googletag.sizeMapping().addSize([0, 0], [[300, 250],[320, 50]]).addSize([768, 0], [728, 90]).build();	
	var slot4 = googletag.defineSlot(adUnitPath, [728, 90],'dfp-ad-slot-4').defineSizeMapping(mapslot4)
		.addService(googletag.pubads()).setTargeting('pos', '3')

	googletag.pubads()
	.setTargeting("pagetype",[kvPType])
	.setTargeting("pageid",[kvPageID])
	.setTargeting("adtest",[kvAdTest])
	.setTargeting("sec1",[kvSec1]).setTargeting("sec2",[kvSec2]).setTargeting("sec3",[kvSec3]).setTargeting("sec4",[kvSec4])
	
	googletag.pubads().enableAsyncRendering();
	googletag.pubads().collapseEmptyDivs(true);
	googletag.pubads().setCentering(true);
	googletag.pubads().enableSingleRequest();   	
	googletag.enableServices();
});
</script>
<!--- End: DFP GPT header script --->
</head>
<body>

<p>dfp-ad-slot-1: 320x50 up to 767px, 728x90 above</p>
<div id="dfp-ad-slot-1">
	<script type='text/javascript'>
		googletag.cmd.push(function() {
		googletag.display('dfp-ad-slot-1');
	});
  </script>
</div>
<p></p>
<p>dfp-ad-slot-2: no ad up to 767px, 300x250/300x600 above</p>
<div id="dfp-ad-slot-2">
	<script type='text/javascript'>
		googletag.cmd.push(function() {
		googletag.display('dfp-ad-slot-2');
	});
  </script>
</div>
<p></p>	
<p>dfp-ad-slot-3: 300x250</p>
<div id="dfp-ad-slot-3">
	<script type='text/javascript'>
		googletag.cmd.push(function() {
		googletag.display('dfp-ad-slot-3');
	});
  </script>
</div>
<p></p>
<p></p>	
<p>dfp-ad-slot-4: 300x250/320x50 up to 767px, 728x90 above</p>
<div id="dfp-ad-slot-4">
	<script type='text/javascript'>
		googletag.cmd.push(function() {
		googletag.display('dfp-ad-slot-4');
	});
  </script>
</div>
<p></p>
<p>dfp-ad-oop: reserved for interstitial/out of page ads</p>
<div id="dfp-ad-oop" style="display:none;">
	<script type='text/javascript'>
		googletag.cmd.push(function() {
		googletag.display('dfp-ad-oop');
	});
  </script>
</div>
	
</body>
</html>	